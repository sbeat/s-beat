<!--
Copyright (c) 2016 S-BEAT GbR and others. Licensed under GPL-v3-or-Later
see LICENSE.md file in the root of this project or http://www.gnu.org/licenses/
-->
{% set active_page = "students" %}
{% set website_class = "" %}
{% extends "index.html" %}
{% block title %}Student Details: {{ request.args.get('id',0) }}{% endblock %}
{% block head %}
{{ super() }}
<script src="js/pathlist.js"></script>
<script src="js/examlist.js"></script>
<script src="js/markedlists.js"></script>
<script src="js/studentdetails.js"></script>
{% endblock %}
{% block content %}
<div class="layout" data-load="StudentDetails" data-id="{{ request.args.get('id',0) }}">
<h1>Student Details: <span data-student="ident"></span></h1>

<div class="col2_50">
	<article>
		<h2>Allgemein</h2>
		<table class="tbl detailTable">
			<!--<tr>
				<td>Studiengangsgruppe</td>
				<td data-student="stg"></td>
				<td data-path-risk="stg"></td>
			</tr>-->
			<tr>
				<td>Studiengang</td>
				<td>
					<span data-student="stg_original"></span>

					 (Gruppe: <span data-student="stg"></span>)
				</td>
				<td></td>
			</tr>
			<tr>
				<td>Status</td>
				<td data-student="finishstatus"></td>
				<td></td>
			</tr>
			<!--
			<tr>
				<td>Ignoriert</td>
				<td data-student="ignore"></td>
				<td></td>
			</tr>
			-->

			<tr>
				<td>Immatrikulation</td>
				<td>
					<span data-student="imm_date"></span>
					(<span data-student="hzb_imm_time"></span>)
				</td>
				<td></td>
			</tr>
			<tr>
				<td>Startsemester</td>
				<td data-student="start_semester"></td>
				<td></td>
			</tr>
			<tr>
				<td>Exmatrikulation</td>
				<td data-student="exm_date"></td>
				<td></td>
			</tr>

			<tr data-student="display_applicant">
				<td>Bewerber</td>
				<td data-student="applicant_ident"></td>
				<td></td>
			</tr>

			<tr data-student="display_applicant">
				<td>Bewerbung</td>
				<td data-student="appl_date"></td>
				<td></td>
			</tr>

			<tr data-student="display_applicant">
				<td>Zulassung</td>
				<td data-student="adm_date"></td>
				<td></td>
			</tr>

		</table>

		<h2>Person</h2>
		<table class="tbl detailTable">

			<tr data-student="display.birth_date">
				<td>Geburtsdatum</td>
				<td data-student="birth_date"></td>
				<td></td>
			</tr>
			<tr data-student="display.age">
				<td>Alter bei Immatrikulation</td>
				<td data-student="age"></td>
				<td data-path-risk="age"></td>
			</tr>
			<tr data-student="display.gender">
				<td>Geschlecht</td>
				<td data-student="gender"></td>
				<td data-path-risk="gender"></td>
			</tr>
			<tr data-student="display.country">
				<td>Land</td>
				<td data-student="country"></td>
				<td ></td>
			</tr>
			<tr data-student="display.stang">
				<td>Staatsangehörigkeit</td>
				<td data-student="stang"></td>
				<td ></td>
			</tr>
			<tr data-student="display.zip">
				<td>Postleitzahl</td>
				<td data-student="zip"></td>
				<td ></td>
			</tr>
		</table>
		<br>
		<table class="tbl detailTable" id="identification_data" style="display: none">
			<tr data-student="display.matrikelno">
				<td>Matrikel-Nr.*</td>
				<td data-student="matrikelno"></td>
				<td></td>
			</tr>
			<tr data-student="display.forename">
				<td>Name*</td>
				<td>
					<span data-student="forename"></span>
					<span data-student="surname"></span>
				</td>
				<td></td>
			</tr>
			<tr data-student="display.email">
				<td>E-Mail*</td>
				<td data-student="email"></td>
				<td></td>
			</tr>
		</table>

		{% if g.has_right('identification_data') %}
		<a href="" data-student="identification_link">Identifikations- und Kontaktdaten abrufen</a>
		{% endif %}

		<h2>Vormerkungen</h2>

		<div data-student="markedlists" class="markedlists"></div>

		<h2 data-student="display_tags" style="display: none">Tags</h2>

		<div data-student="tags" class="markedlists"></div>

	</article>

</div>

<div class="col2_50">
	<article>
		<h2>Hochschulzugangsberechtigung</h2>
		<table class="tbl detailTable">
			<tr data-student="display.hzb_type">
				<td>HZB Gruppe</td>
				<td data-student="hzb_type"></td>
				<td data-path-risk="hzb_type"></td>
			</tr>
			<tr data-student="display.hzb_grade">
				<td>HZB Note</td>
				<td data-student="hzb_grade"></td>
				<td data-path-risk="hzb_grade"></td>
			</tr>
			<tr data-student="display.hzb_date">
				<td>HZB Datum</td>
				<td data-student="hzb_date"></td>
				<td data-path-risk="hzb_date"></td>
			</tr>
		</table>

		<h2>Leistungsdaten</h2>
		<table class="tbl detailTable">
			<tr data-student="display.exam_count">
				<td>Anzahl Leistungen</td>
				<td data-student="exam_count"></td>
				<td></td>
			</tr>
			<tr data-student="display.exam_count_success">
				<td>Bestandene Versuche</td>
				<td data-student="exam_count_success"></td>
				<td></td>
			</tr>
			<tr data-student="display.exam_count_failed">
				<td>Nicht bestandene Versuche</td>
				<td data-student="exam_count_failed"></td>
				<td></td>
			</tr>
			<tr data-student="display.cnt_delayed_exams">
				<td>Entschuldigte Rücktritte</td>
				<td data-student="cnt_delayed_exams"></td>
				<td></td>
			</tr>
			<tr data-student="display.bonus_total">
				<td><span data-config="cp_label"></span> gesamt</td>
				<td data-student="bonus_total"></td>
				<td></td>
			</tr>
			<tr data-student="display.grade_current">
				<td>&Oslash; Note aktuell<sup>1</sup></td>
				<td data-student="grade_current"></td>
				<td></td>
			</tr>
			<tr data-student="display.grade_nb_current">
				<td>&Oslash; Note aktuell inkl. NB, EN<sup>1</sup></td>
				<td data-student="grade_nb_current"></td>
				<td></td>
			</tr>
			<!--<tr>
				<td>&Oslash; Note gesamt<sup>1</sup></td>
				<td data-student="grade_total"></td>
				<td></td>
			</tr>-->
			<tr data-student="display.grade_basic_studies">
				<td>&Oslash; Note Grundstudium<sup>1</sup></td>
				<td data-student="grade_basic_studies"></td>
				<td></td>
			</tr>
			<tr data-student="display.grade_main_studies">
				<td>&Oslash; Note Hauptstudium<sup>1</sup></td>
				<td data-student="grade_main_studies"></td>
				<td></td>
			</tr>
			<tr data-student="display.final_grade">
				<td>Abschlussnote</td>
				<td data-student="final_grade"></td>
				<td></td>
			</tr>
		</table>

		<h2>Risiko</h2>
		<table class="tbl detailTable">

			<tr data-student="display_risk_median_all">
				<td>Unskalierter Risikowert</td>
				<td data-student="risk_all.median"></td>
				<td></td>
			</tr>

			<tr data-student="display_risk_median_stg">
				<td>Unskalierter Risikowert im Studiengang</td>
				<td data-student="risk_stg.median"></td>
				<td></td>
			</tr>

			<tr data-student="display_risk_median_degree">
				<td>Unskalierter Risikowert im Abschluss</td>
				<td data-student="risk_degree.median"></td>
				<td></td>
			</tr>

			<tr data-student="display_risk_all">
				<td>Gesamtrisiko</td>
				<td data-student="risk_all"></td>
				<td data-student="tooltip">
					<a class="infobtn"></a>

					<div style="display: none">
						Die farbliche Ausprägung der Ampel ist auf die folgenden prozentualen Misserfolgswahrscheinlichkeiten zurückzuführen:
						<ul>
							<li>Grün: ab <span data-lights="lights_0"></span></li>
							<li>Gelb: ab <span data-lights="lights_1"></span></li>
							<li>Rot: ab <span data-lights="lights_2"></span></li>
						</ul>
					</div>

				</td>
			</tr>
			<tr data-student="display_risk_all_value">
				<td>Skalierte Misserfolgswahrscheinlichkeit</td>
				<td data-student="risk_all.median_scaled"></td>
				<td data-student="tooltip">
					<a class="infobtn"></a>

					<div style="display: none" id="student_risk_tooltip">
						Wichtiger Hinweis: Ein unbegründet hoher Wert der skalierten Misserfolgswahrscheinlichkeit kann
						folgende
						Ursachen haben:<br>
						<ol type="a" class="spacedlist">
							<li>
								Studierende des ersten und zweiten Semesters konnten aufgrund des noch wenig
								fortgeschrittenen Studiums bisher noch nicht ausreichend
								<span data-config="cp_label"></span>
								erwerben.
							</li>
							<li>
								Der/die Studierende gehört zur Gruppe der Erstsemester und es liegen noch keine
								Benotungen
								für abgelegte Prüfungsleistungen im aktuellen Semester vor.
							</li>
						</ol>
					</div>

				</td>
			</tr>
			<tr data-student="display_risk_stg">
				<td>Studiengangsrisiko</td>
				<td data-student="risk_stg"></td>
				<td data-student="tooltip">
					<a class="infobtn"></a>

					<div style="display: none">
						Die farbliche Ausprägung der Ampel ist auf die folgenden prozentualen
						Misserfolgswahrscheinlichkeiten zurückzuführen:
						<ul>
							<li>Grün: ab <span data-lights="lights_0"></span></li>
							<li>Gelb: ab <span data-lights="lights_1"></span></li>
							<li>Rot: ab <span data-lights="lights_2"></span></li>
						</ul>
					</div>

				</td>
			</tr>
			<tr data-student="display_risk_stg_value">
				<td>Skalierte Misserfolgswahrscheinlichkeit im Studiengang</td>
				<td data-student="risk_stg.median_scaled"></td>
				<td data-student="tooltip" data-tooltip-content="#student_risk_tooltip">
					<a class="infobtn"></a>
				</td>
			</tr>

			<tr data-student="display_risk_degree">
				<td>Risiko im Abschluss</td>
				<td data-student="risk_degree"></td>
				<td data-student="tooltip">
					<a class="infobtn"></a>

					<div style="display: none">
						Die farbliche Ausprägung der Ampel ist auf die folgenden prozentualen
						Misserfolgswahrscheinlichkeiten zurückzuführen:
						<ul>
							<li>Grün: ab <span data-lights="lights_0"></span></li>
							<li>Gelb: ab <span data-lights="lights_1"></span></li>
							<li>Rot: ab <span data-lights="lights_2"></span></li>
						</ul>
					</div>

				</td>
			</tr>
			<tr data-student="display_risk_degree_value">
				<td>Skalierte Misserfolgswahrscheinlichkeit im Abschluss</td>
				<td data-student="risk_degree.median_scaled"></td>
				<td data-student="tooltip" data-tooltip-content="#student_risk_tooltip">
					<a class="infobtn"></a>
				</td>
			</tr>

			<!--
			<tr>
				<td>Minimum</td>
				<td data-student="risk.min"></td>
				<td></td>
			</tr>
			<tr>
				<td>Unteres Quantil</td>
				<td data-student="risk.q25"></td>
				<td></td>
			</tr>
			<tr>
				<td>Median</td>
				<td data-student="risk.median"></td>
				<td></td>
			</tr>
			<tr>
				<td>Oberes Quantil</td>
				<td data-student="risk.q75"></td>
				<td></td>
			</tr>
			<tr>
				<td>Maximum</td>
				<td data-student="risk.max"></td>
				<td></td>
			</tr>
			-->
		</table>

	</article>
</div>
<div class="clear"></div>

<article>
	<h2>Semester</h2>
	<table class="tbl">
		<colgroup>
			<col width="4%">
			<col width="12%">
			<col width="12%">
			<col width="12%">
			<col width="12%">
			<col width="12%">
			<col width="12%">
			<col width="12%">
			<col data-student="display.cnt_delayed_exams" width="12%">
		</colgroup>
		<thead>
		<tr>
			<th><span>Nr.</span></th>
			<th><span>Semester</span></th>
			<th><span><span data-config="cp_label"></span> im Semester</span></th>
			<th><span><span data-config="cp_label"></span> im Studium</span></th>
			<th><span>&Oslash; Note<sup>1</sup></span></th>
			<th><span>Leistungen</span></th>
			<th><span>Leistungen bestanden</span></th>
			<th><span>Leistungen nicht bestanden</span></th>
			<th data-student="display.cnt_delayed_exams"><span>Entschuldigte Rücktritte</span></th>
		</tr>
		</thead>
		<tbody data-student="semester_data">
		</tbody>
	</table>
</article>


<article id="applied_exams">
	<h2>Angemeldete Prüfungsleistungen im aktuellen Semester (Anzahl: <span data-student="exam_count_applied"></span>)</h2>

	<div data-load="ExamList" data-id="{{ request.args.get('id',0) }}" data-preset="current"></div>
</article>


<article id="exams">
	<h2>Notenspiegel (Stand: <span data-student="lastDate"></span>)</h2>

	<div data-load="ExamList" data-id="{{ request.args.get('id',0) }}" data-preset="student"></div>


	{% include 'inc/tooltips_exam.html' %}

</article>


<article id="riskpaths">
	<h2 data-toggle="risk_details" class="toggle">Risikodetails</h2>

	<div style="display: none" id="risk_details">
		<h3>Risikoverteilung <a href="docs_extended.html?page=05_02_students#risk_distribution" target="_blank"
								class="infobtn">Beschreibung</a></h3>
		<svg data-student="risk_graph" style="height: 150px"></svg>

		<h3>Risikokriterien <a href="docs_extended.html?page=05_02_students#risk_paths" target="_blank" class="infobtn">Beschreibung</a>
		</h3>

		<div data-load="PathList" data-id="{{ request.args.get('id',0) }}"></div>
	</div>

</article>

<article>
	* Die Matrikel-Nr., der Vor- und Nachname, die E-Mail, das Geburtsdatum, das Geschlecht und die Daten zur
	Hochschulzugangsberechtigung sind nur sichtbar, wenn Sie die Berechtigung dafür besitzen.
	<br>
	<sup>1</sup> Die gekennzeichneten Durchschnittsnoten (Aktuell, Grund-/Hauptstudium, im Semester) sind jeweils nach
	<span data-config="cp_label"></span>
	gewichtet und wurden nach aktuellem Datenstand berechnet. Abhängig vom Datenstand zeigen diese nicht die endgültige
	Note.
</article>

</div>

{% endblock %}